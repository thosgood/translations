\documentclass{article}

\usepackage[margin=1.6in]{geometry}

\title{Multialgebraic categories}
\author{Yves Diers}
\date{}

\newcommand{\doctype}{French paper}
\newcommand{\origcit}{%
  \textsc{Diers, Y}
  ``Cat\'{e}gories Multialg\'{e}briques''.
  \emph{Archiv der Mathematik} \textbf{34} (1980), 193--209.%
}


\usepackage{amssymb,amsmath}

\usepackage{hyperref}
\usepackage{xcolor}
\hypersetup{colorlinks,linkcolor={blue!50!black},citecolor={blue!50!black},urlcolor={blue!80!black}}
\usepackage{enumerate}
\usepackage{tikz-cd}

\usepackage{mathrsfs}
%% Fancy fonts --- feel free to remove! %%
\usepackage{fouriernc}


\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{xstring}
\makeatletter
\ifx\pdfmdfivesum\undefined
  \let\pdfmdfivesum\mdfivesum
\fi
\edef\filesum{\pdfmdfivesum file {\jobname}}
\pagestyle{fancy}
\makeatletter
\let\runauthor\@author
\let\runtitle\@title
\makeatother
\fancyhf{}
\lhead{\footnotesize\runtitle}
\lfoot{\footnotesize Version: \texttt{\StrMid{\filesum}{1}{8}}}
\cfoot{\small\thepage\ of \pageref*{LastPage}}




%% Theorem environments %%

\usepackage{amsthm}

\newenvironment{itenv}[1]
  {\phantomsection\par\medskip\noindent\textbf{#1.}\itshape}
  {\medskip}

\newenvironment{rmenv}[1]
  {\phantomsection\par\medskip\noindent\textbf{#1.}\rmfamily}
  {\medskip}


%% Shortcuts %%

\newcommand{\bb}[1]{{\mathbb{#1}}}

\newcommand{\op}{{\mathrm{op}}}
\newcommand{\st}{{\mathrm{st}}}
\newcommand{\Set}{\mathbb{S}\mathrm{et}}
\newcommand{\MulAlg}{\mathbb{M}\mathrm{ulAlg}}
\newcommand{\Dom}{\mathbb{D}\mathrm{om}}
\newcommand{\Loc}{\mathbb{L}\mathrm{oc}}
\newcommand{\Orth}{\mathbb{O}\mathrm{rth}}
\newcommand{\Euc}{\mathbb{E}\mathrm{uc}}
\newcommand{\PHilb}{\mathbb{P}\mathrm{Hilb}}
\newcommand{\TotOrd}{\mathbb{T}\mathrm{otOrd}}

\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}

\newcommand{\todo}{\textbf{ !TODO! }}

\newcommand{\oldpage}[1]{\marginpar{\footnotesize$\Big\vert$ \textit{p.~#1}}}


%% Document %%

\usepackage{embedall}
\begin{document}

\maketitle
\thispagestyle{fancy}

\renewcommand{\abstractname}{Translator's note.}

\begin{abstract}
  \renewcommand*{\thefootnote}{\fnsymbol{footnote}}
  \emph{This text is one of a series\footnote{\url{https://thosgood.com/translations}} of translations of various papers into English.}
  \emph{The translator takes full responsibility for any errors introduced in the passage from one language to another, and claims no rights to any of the mathematical content herein.}

  \medskip
  
  \emph{What follows is a translation of the \doctype:}

  \medskip\noindent
  \origcit
\end{abstract}

\setcounter{footnote}{0}
\setcounter{section}{-1}

\setcounter{tocdepth}{1}
\tableofcontents
\bigskip


%% Content %%

\oldpage{193}
\section{Introduction}
\label{0}

We revise the notions of algebraic theories, algebras, categories, and algebraic functors introduced by F.W.~Lawvere, in such a way that the essential theorems can be generalised to apply to non-algebraic situations, such as that of fields, local rings, totally ordered sets, metric spaces, normed vector spaces, pre-Hilbert spaces, etc.

A multialgebraic category is a category of functors that are multicontinuous for finite multiproducts, defined over a small category with finite multiproducts with values in $\Set$.
We show that multialgebraic categories have filtered colimits, connected limits, and cokernels for coequalisable pairs of morphisms, and that their equivalence relations are effective, and their regular epimorphisms are universal, and that they have regular universal factorisations.
They are equipped with a structure-forgetful functor with values in $\Set$, which admits a left multiadjoint, reflects isomorphisms, and preserves filtered colimits, connected limits, and regular epimorphisms.
We give two characterisations of multialgebraic categories, and we show that they are equivalent to multimonadic categories of finite rank over $\Set$.
Proper morphisms of multialgebraic theories determine proper multialgebraic functors.
These functors possess a left adjoint.
For example, the inclusion functors of the category of commutative fields into the category of integral domains and into the category of commutative local rings are both proper multialgebraic.

We use the notation and results of \cite{2} and \cite{3}.

\oldpage{194}
\section{Multialgebraic theories and multialgebras}

\begin{rmenv}{1.0 Definition \cite{2}}
  A \emph{multiproduct} of a small family $(X_i)_{i\in I}$ of objects of a category $\bb{A}$ is a small family $(\gamma_{ij}\colon Y_j\to X_i)_{(i,j)\in I\times J}$ of morphisms in $\bb{A}$ such that, for every family $(f_i\colon Y\to X_i)_{i\in I}$ of morphisms in $\bb{A}$, there exists a unique pair $(j,f)$ consisting of $j\in J$ and a morphism $f\colon Y\to Y_j$ such that $\gamma_{ij}f=f_i$ for all $i\in I$.

  We say that the $Y_j$ \emph{belong} to the multiproduct of objects $(X_i)_{i\in I}$.
  The multiproduct is said to be \emph{finite} if $I$ is finite.
  The category $\bb{A}$ is said to have \emph{finite multiproducts} if every finite family of objects of $\bb{A}$ has a multiproduct.
\end{rmenv}

\begin{rmenv}{1.1 Definitions}
  A \emph{multialgebraic theory} is a small category $\bb{M}$ with finite multiproducts, endowed with a distinguished small family of objects $(X_g)_{g\in G}$ such that every object of $\bb{M}$ belongs to a finite multiproduct of objects of this family.

  An \emph{$\bb{M}$-multialgebra} is a functor $F\colon\bb{M}\to\Set$ that is multicontinuous for finite multiproducts \cite{2}, i.e. for every finite sequence $X_1,\ldots,X_n$ of objects of $\bb{M}$ that has a multiproduct $(\gamma_{ij}\colon Y_j\to X_i)_{(i,j)\in[1,n]\times J}$, the map
  \[
    \langle(F\gamma_{ij})\rangle\colon
    \coprod_{j\in J} FY_j \to
    \prod_{i=1}^n FX_i
  \]
  is bijective.

  If $F$ and $H$ are $\bb{M}$-multialgebras, then an \emph{$\bb{M}$-homomorphism} from $F$ to $H$ is a natural transformation from $F$ to $H$.

  The category of $\bb{M}$-multialgebras and $\bb{M}$-homomorphisms is denoted by $\MulAlg(\bb{M})$.
\end{rmenv}

\begin{rmenv}{1.2 Examples}

  \begin{rmenv}{1.2.0}
    Algebraic theories and algebras in the sense of F.W.~Lawvere \cite{6}, and those of $I$-terms in the sense of J.~Benabou \cite{1}.
  \end{rmenv}

  \begin{rmenv}{1.2.1 The multialgebraic theory of integral domains}
    Let $\bb{D}_0$ be the category whose objects are pairs $(n,I)$ consisting of an integer $n\in\bb{N}$ and a prime ideal $I$ of $\bb{Z}[X_1,\ldots,X_n]$, and whose morphisms $(n,I)\to(m,J)$ are the injective homomorphisms of unital rings $\bb{Z}[X_1,\ldots,X_n]/I\to\bb{Z}[X_1,\ldots,X_m]/J$.
    These are of the form $\langle g_1,\ldots,g_n\rangle$, where $g_1,\ldots,g_n$ are polynomials in $\bb{Z}[X_1,\ldots,X_m]$ such that $f\in I$ if and only if $f(g_1,\ldots,g_n)\in J$ for all $f\in\bb{Z}[X_1,\ldots,X_n]$, and where $\langle g_1,\ldots,g_n\rangle$ denotes the quotient homomorphism of the homomorphism $g_1,\ldots,g_n\colon\bb{Z}[X_1,\ldots,X_n]\to\bb{Z}[X_1,\ldots,X_m]$.
    The composition of morphisms is given by composing the ring homomorphisms.
    The category $\bb{D}_0$ has finite multisums, since the family of objects $(0,(p))$, where $p$ runs over all prime numbers, is initial in $\bb{D}_0$, and the multisum of $(n,I)$ and $(m,J)$ exists, consisting of the objects $(n+m,K)$, where $K$ runs over the prime ideals of $\bb{Z}[X_1,\ldots,X_n,X_{n+1},\ldots,X_{n+m}]$ such that
    \[
      K\cap\bb{Z}[X_1,\ldots,X_n] = I
      \quad\text{and}\quad
      K\cap\bb{Z}[X_{n+1},\ldots,X_{n+m}] = J.
    \]
    We can see that every object of $\bb{D}_0$ belongs to a finite multisum of objects of the form $(1,I)$.
    The opposite category $\bb{D}_0^\op$ in which we distinguish the objects of the form $(1,I)$ is thus a multialgebraic theory, which we denote by $\bb{M}$.

\oldpage{195}
    Let $A$ be an integral domain.
    For each $(x_1,\ldots,x_n)\in A^n$, denote by
    \[
      I_{x_1,\ldots,x_n} =
      \big\{
        P(X_1,\ldots,X_n)\in\bb{Z}[X_1,\ldots,X_n]
        :
        P(x_1,\ldots,x_n)=0
      \big\}
    \]
    the prime ideal of polynomial relations with coefficients in $\bb{Z}$ between the $x_1,\ldots,x_n$.
    We define a functor $A^{(\,\,)}\colon\bb{M}\to\Set$ by
    \[
      A^{(n,I)}=\{(x_1,\ldots,x_n)\in A^n:I_{x_1,\ldots,x_n}=I\}
    \]
    and, for a morphism $\langle g_1,\ldots,g_n\rangle\colon(n,I)\to(m,J)$ of $\bb{D}_0$, by
    \[
      A^{\langle g_1,\ldots,g_n\rangle}(x_1,\ldots,x_m) =
      \big(
        g_1(x_1,\ldots,x_m),
        \ldots,
        g_n(x_1,\ldots,x_m)
      \big).
    \]
    This functor is an $\bb{M}$-multialgebra since we have
    \[
      \coprod_p A^{(0,(p))} \cong 1
      \quad\text{and}\quad
      \coprod_K A^{(n+m,K)} \cong A^{(n,I)}\times A^{(m,J)}
    \]
    (where the first coproduct is over all primes $p$, and the second coproduct is over all $K$ such that $K\cap\bb{Z}[X_1,\ldots,X_n] = I$ and $K\cap\bb{Z}[X_{n+1},\ldots,X_{n+m}] = J$).
    But we can prove that every $\bb{M}$-multialgebra is, up to isomorphism, of this form, and thus defines an integral domain.
    This correspondence is functorial, i.e. if $\Dom$ denotes the category of integral domains and injective homomorphisms, then we can define a functor $V\colon\Dom\to\MulAlg(\bb{M})$ by $VA=A^{(\,\,)}$ and $Vf(x_1,\ldots,x_n)=(f(x_1),\ldots,f(x_n))$.
    We can, with difficulty, directly prove that $V$ is an equivalence of categories, but this result is also an immediate consequence of \hyperref[theorem-3.2]{Theorem~3.2}.
  \end{rmenv}

  \begin{rmenv}{1.2.2 The multialgebraic theory of commutative local rings}
    Let $\bb{L}_0$ be the category whose objects are pairs $(n,I)$ consisting of an integer $n\in\bb{N}$ and a prime ideal $I$ of $\bb{Z}[X_1,\ldots,X_n]$, and whose morphisms $(n,I)\to(m,J)$ are the homomorphisms of local rings $\bb{Z}[X_1,\ldots,X_n]_I\to\bb{Z}[X_1,\ldots,X_m]_J$ that are localisations of polynomial rings at prime ideals.
    These are of the form $[g_1,\ldots,g_n]$, where $g_1,\ldots,g_n$ are polynomials in $\bb{Z}[X_1,\ldots,X_n]$ such that $f\in I$ if and only if $f(g_1,\ldots,g_n)\in J$ for all $f\in\bb{Z}[X_1,\ldots,X_n]$, and where $[g_1,\ldots,g_n]$ denotes the extension to fractions of the homomorphism $g_1,\ldots,g_n\colon\bb{Z}[X_1,\ldots,X_n]\to\bb{Z}[X_1,\ldots,X_m]$.
    The composition of morphisms is given by composing the ring homomorphisms.
    The category $\bb{L}_0$ has finite multisums since the objects of the form $(0,(p))$ form an initial family of objects, and the multisum of $(n,I)$ and $(m,J)$ exists, consisting of objects $(n+m,K)$, where $K$ runs over the prime ideals of $\bb{Z}[X_1,\ldots,x_n,X_{n+1},\ldots,X_{n+m}]$ such that
    \[
      K\cap\bb{Z}[X_1,\ldots,X_n] = I
      \quad\text{and}\quad
      K\cap\bb{Z}[X_{n+1},\ldots,X_{n+m}] = J.
    \]
    We can see that every object of $\bb{L}_0$ belongs to a finite multisum of objects of the form $(1,I)$.
    The opposite category in which we distinguish the objects of the form $(1,I)$ is thus a multialgebraic theory, which we denote by $\bb{M}$.

    Let $A$ be a commutative local ring.
    For every $(x_1,\ldots,x_n)\in A^n$, denote by
    \[
      J_{x_1,\ldots,x_n} =
      \big\{
        P(X_1,\ldots,X_n)\in\bb{Z}[X_1,\ldots,X_n]
        :
        \mbox{$P(X_1,\ldots,x_n)$ is not invertible}
      \big\}
    \]
\oldpage{196}
    the prime ideal.
    We define a functor  $A^{[\,\,]}\colon\bb{M}\to\Set$ by
    \[
      A^{[n,I]}=\{(x_1,\ldots,x_n)\in A^n:J_{x_1,\ldots,x_n}=I\}
    \]
    and, for a morphism $[g_1,\ldots,g_n]\colon(n,I)\to(m,J)$ of $\bb{L}_0$, by
    \[
      A^{[g_1,\ldots,g_n]}(x_1,\ldots,x_m) =
      \big(
        g_1(x_1,\ldots,x_m),
        \ldots,
        g_n(x_1,\ldots,x_m)
      \big).
    \]
    This functor is an $\bb{M}$-multialgebra since we have
    \[
      \coprod_p A^{[0,(p)]} \cong 1
      \quad\text{and}\quad
      \coprod_K A^{[n+m,K]} \cong A^{[n,I]}\times A^{[m,J]}
    \]
    (where the first coproduct is over all primes $p$, and the second coproduct is over all $K$ such that $K\cap\bb{Z}[X_1,\ldots,X_n] = I$ and $K\cap\bb{Z}[X_{n+1},\ldots,X_{n+m}] = J$).
    But we can prove that every $\bb{M}$-multialgebra is, up to isomorphism, of this form, and thus defines a commutative local ring.
    This correspondence is functorial, i.e. if $\Loc$ denotes the category of commutative local rings and local homomorphisms, then we can define a functor $V\colon\Loc\to\MulAlg(\bb{M})$ by $VA=A^{[\,\,]}$ and $Vf(x_1,\ldots,x_n)=(f(x_1),\ldots,f(x_n))$.
    We can, with difficulty, directly prove that $V$ is an equivalence of categories, but this result is also an immediate consequence of \hyperref[theorem-3.2]{Theorem~3.2}.
  \end{rmenv}

  \begin{rmenv}{1.2.3 The multialgebraic theory of real pre-Hilbert spaces}
    A finite sequence of vectors in a real pre-Hilbert space is said to be orthonormal if the vectors are all of norm~$1$ and pairwise orthogonal.
    A real matrix with $p$ rows and $n$ columns is said to be orthonormal if its columns form an orthonormal sequence in $\bb{R}^p$.
    Let $\Orth$ be the category of orthonormal matrices, whose objects are the natural numbers, and whose morphisms $n\to p$ are the orthonormal matrices with $p$ rows and $n$ columns, with composition being given by matrix multiplication.
    In particular, there is a unique morphism $0\to n$, namely the empty matrix.
    The category $\Orth$ is in fact equivalent to the category $\Euc$ of Euclidean spaces, which is a full subcategory of the category $\PHilb$ of real pre-Hilbert spaces.
    It thus has finite multisums, by \cite[{}1.1.3]{2}.
    The opposite category $\Orth^\op$ in which we distinguish the family of objects $(X_\rho)_{\rho\in\bb{R}_+}$ defined by $X_0=0$ and $X_\rho=1$ for $\rho>0$ is a multialgebraic theory, which we denote by $\bb{M}$.

    If $E$ is a real pre-Hilbert space, then we define a functor $E^{(\,\,)}\colon\bb{M}\to\Set$ by
    \[
      E^{(n)} =
      \big\{
        (x_1,\ldots,x_n)\in E^n
        :
        \mbox{$x_1,\ldots,x_n$ is orthonormal in $E$}
      \big\}
    \]
    and, for a morphism $A=(a_{ji})\colon n\to p$, by
    \[
      E^{(A)}(x_1,\ldots,x_p) =
      (a_{11}x_1+\ldots+a_{p1}x_p,\ldots,a_{1n}x_1+\ldots+a_{pn}x_p).
    \]
    We can show that this functor is an $\bb{M}$-multialgebra, and, conversely, that every $\bb{M}$-multialgebra is, up to isomorphism, of the above form, and thus defines a real pre-Hilbert space.
    We can thus establish an equivalence between the category $\PHilb$ of real pre-Hilbert spaces and orthogonal linear maps and the category $\MulAlg(\bb{M})$.
    This result is an immediate consequence of \hyperref[theorem-3.2]{Theorem~3.2}.
  \end{rmenv}

  \begin{rmenv}{1.2.4 The multialgebraic theory of totally ordered sets}
    Let $\Delta_\st$ be the category whose objects are the finite ordinals, and whose morphisms are the
\oldpage{197}
    strictly increasing maps.
    The object $0$ is initial, and the category has finite multisums, with the multisum of $n$ and $p$ being given by the set of pairs of morphisms $(f\colon n\to q,g\colon p\to q)$ that are globally surjective.
    The opposite category $\Delta_\st^\op$ in which we distinguish the object $1$ is a multialgebraic theory, which we denote by $\bb{M}$.

    A totally ordered set $E$ determines an $\bb{M}$-multialgebra $E^{(\,\,)}\colon\bb{M}\to\Set$, defined by
    \[
      E^{(n)} =
      \big\{
        (x_1,\ldots,x_n)\in E^n
        :
        x_1<x_2<\ldots<x_n
      \big\}
    \]
    and, for $f\colon n\to p$, by
    \[
      E^{(f)}(x_1,\ldots,x_n) =
      \big(
        x_{f(1)},\ldots,x_{f(n)}
      \big).
    \]
    Conversely, every $\bb{M}$-multialgebra is, up to isomorphism, of the above form, and thus determines a totally ordered set.
    We thus establish a correspondence between the category $\TotOrd$ of totally ordered sets and strictly increasing maps and the category $\MulAlg(\bb{M})$.
  \end{rmenv}

\end{rmenv}

\begin{itenv}{1.3 Proposition}
  $\MulAlg(\bb{M})$ is a multireflexive full subcategory of $\Set^\bb{M}$ that is closed under connected limits, filtered colimits, and cokernels of equivalence relations.
\end{itenv}

\begin{proof}
\end{proof}






%% Bibliography %%

\nocite{*}

\begin{thebibliography}{8}

  \bibitem[0]{0}
  {\sc Barr, M.}
  \newblock {\em Exact Categories and Categories of Sheaves.}
  \newblock Berlin--Heidelberg, LNM \textbf{236} (1971).

  \bibitem[1]{1}
  {\sc Benabou, J.}
  \newblock {\em Structures alg\'{e}briques dans les cat\'{e}gories.}
  \newblock Thesis, Universit\'{e} de Paris (1966).

  \bibitem[2]{2}
  {\sc Diers, Y.}
  \newblock Familles Universelles de Morphismes.
  \newblock {\em Ann. Soc. Sci. Bruxelles} \textbf{93} (1979).

  \bibitem[3]{3}
  {\sc Diers, Y.}
  \newblock Multimonads and Multimonadic Categories.
  \newblock {\em J. Pure Appl. Algebra} \textbf{17} (1980), 153--170.

  \bibitem[4]{4}
  {\sc Diers, Y.}
  \newblock Type de densit\'{e} d'un sous-cat\'{e}gorie pleine.
  \newblock {\em Ann. Soc. Bruxelles} \textbf{90} (1976), 25--47.

  \bibitem[5]{5}
  {\sc Gabriel, P. and Ulmer, F.}
  \newblock {\em Lokal Pr\"{a}sentierbare Kategorien.}
  \newblock Berlin--Heidelberg, LNM \textbf{221} (1971).

  \bibitem[6]{6}
  {\sc Lawvere, F.W.}
  \newblock Functorial Semantics of Algebraic Theories.
  \newblock {\em Proc. National Acad. Sci.} \textbf{50} (1963), 869--873.

  \bibitem[7]{7}
  {\sc Schubert, H.}
  \newblock {\em Categories.}
  \newblock Berlin--Heidelberg (1972).

\end{thebibliography}

\end{document}
